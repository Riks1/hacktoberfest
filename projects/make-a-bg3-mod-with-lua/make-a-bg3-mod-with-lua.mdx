---
title: Make a Baldur's Gate 3 Mod With Lua
author: Julien Kris
uid: 
datePublished: 
description: Learn how to use Lua to build your own mod for Baldur's Gate 3.
header: 
published: beta
tags:
  - lua
  - games
  - windows
  - mods
---

<BannerImage 
  link="" 
  description="Title Image" 
  uid={true} 
  cl="for-sidebar" 
/>

# Make a Baldur's Gate 3 Mod With Lua

<AuthorAvatar
  author_name="Julien Kris"
  author_avatar=""
  username="julien"
  uid={true}
/>

<BannerImage
  link="" 
  description="Title Image"
  uid={true}
/>

{/* <RoundedImage link="https://i.imgur.com/jkgf7of.gif" description="" /> */}

**Prerequisites:** Lua basics, Baldur's Gate 3
**Read Time:** 45 minutes

# Introduction: Frogify Your Enemies

Anyone who's played Baldur's Gate 3 knows it features some truly epic battles.

<RoundedImage link="https://i.imgur.com/kop1His.png" description="Gale casting a fire spell in Baldur's Gate 3" />

[Baldur‚Äôs Gate 3](https://en.wikipedia.org/wiki/Baldur%27s_Gate_3) (BG3) is a 2023 RPG by Larian Studios, adapted from the fifth edition of Dungeons & Dragons. It's earned over 10 million players due to its expansive worldbuilding, fleshed out characters, and stunning visuals.

But have you ever wanted to make Baldur‚Äôs Gate 3 *a little sillier*? üê∏ What if, every time combat started, your terrifying enemies suddenly transformed‚Ä¶ into frogs?
  
<RoundedImage link="https://i.imgur.com/hsBhlGp.png" description="Baldur's Gate 3 frog" />

We're going to do just that by making our own mods! 

**Mods** (short for modifications) are a way of writing code to alter features, graphics, or gameplay of an existing game, even for huge titles like Baldur's Gate 3.

Since BG3 Lua modding is only supported on Windows, this tutorial is aimed at Windows users.  If you're a Mac user, scroll down to our Resources section for some links!

<RoundedImage link="swap image before publishing" description="Image of enemies turning into frogs in combat" />

By the end of this tutorial, you‚Äôll know how to:
- Write a BG3 mod with Lua 
- Apply polymorph statuses during combat 
- Test your mod in-game

## Getting Started

Make sure you have Baldur's Gate 3 installed on your machine! If not, start [installing](https://store.steampowered.com/app/1086940/Baldurs_Gate_3) it in the background while you create your mod.

If you don't already have a code editor installed, download [Visual Studio Code](https://code.visualstudio.com). Otherwise, you can use another code editor of choice.

### BG3 Script Extender

**BG3 Script Extender (BG3SE)** is a program that adds Lua scripting and console support to Baldur's Gate 3. Download it from [GitHub](https://github.com/Norbyte/bg3se). 

Right click on the downloaded .zip file, select [Extract All], and extract the files to a new folder called in your Documents directory, and name it somehting like `ModdingTools`. Next to your `ModdingTools` folder, create a new folder called `Mods`. We'll be keeping our modding apps in the `ModdingTools` folder, and our working files in the `Mods` folder.

Here's the structure you'll be working with inside the Mods folder (you'll learn how to create the meta.lsx files and both .lua files in a bit!)

```
Mods/FrogifyEnemies/Mods/FrogifyEnemies
‚îú‚îÄ‚îÄ meta.lsx
‚îî‚îÄ‚îÄ Public/
    ‚îî‚îÄ‚îÄ FrogifyEnemies/
        ‚îî‚îÄ‚îÄ Scripts/
            ‚îú‚îÄ‚îÄ Init.lua
            ‚îî‚îÄ‚îÄ Frogify.lua
```


## Set up the .lsx file 
An **.lsx** (XML) file tells Baldur‚Äôs Gate 3 about your mod, including its name, author, folder location, version, and unique ID, so the game can recognize and load it correctly. 

Create a new plain text file in VS Code (or your favorite code editor) and save it as **meta.lsx** inside your **FrogifyEnemies** folder.

A **UUID (Universally Unique Identifier)** is a 128-bit value used to uniquely identify information across systems or databases without significant risk of duplication. It looks something like: `87654321-DCBA-4321-DCBA-0987654321AB`.

It'll make sure your mod is unique and doesn't interfere with another mod installed on the same system. Generate your own by using this [online UUID generator](https://www.uuidgenerator.net/version4).

```xml
<save>
  <version>1</version>
  <region id="ModuleSettings">
    <node id="root">
      <children>
        <node id="ModuleShortDesc">
          <attribute id="UUID" value="87654321-DCBA-4321-DCBA-0987654321AB"/>
          <attribute id="Folder" value="FrogifyEnemies"/>
          <attribute id="Name" value="Frogify Enemies"/>
          <attribute id="Author" value="YourName"/>
          <attribute id="Description" value="Turns all enemies into frogs when combat starts."/>
          <attribute id="Version64" value="1"/>
        </node>
      </children>
    </node>
  </region>
</save>
```
The **meta.lsx** file tells the game info about your mod, including what the mod is called, who made it, where its files live, and how to tell it apart from other mods. 

It contains the following components:

- `UUID`: A unique ID number for your mod.
- `Folder`: The name of the folder that holds your mod‚Äôs files (inside the **Mods/** directory).
- `Name`: The display name of the mod. This is what shows up in BG3‚Äôs Mod Manager or in-game.
- `Author`: The creator‚Äôs name (you!).
- `Description`: A short blurb about what your mod does.
- `Version`: A number you can bump up when you release updates so the game (and users) know it‚Äôs a new version.

Without this file, the game doesn‚Äôt know your mod exists.

## Write your Mod

The core logic: transform enemies into frogs when combat starts.

As you saw in your file folder structure, you'll create two Lua scripts:

The first script is **Init.lua**: 

```lua
-- Require your main logic file
Ext.Require("Frogify.lua")

-- Print when Init itself loads
print("Init.lua loaded")

-- Hook into session start
Ext.Events.SessionLoaded:Subscribe(function ()
    print("Frogify Enemies mod loaded!")
end)


```

Here, we are loading a save file, and once it's finished loading, we tell the game to run the code inside (in this case, a print message that says the mod has loaded!).

The second script is **Frogify.lua**.

```lua
-- Subscribe to session loaded to confirm mod is active
Ext.Events.SessionLoaded:Subscribe(function()
   Print("Frogify Enemies mod loaded!")

    -- Listen for combat starting
    Ext.Osiris.RegisterListener("EnteredCombat", 2, "after", function(combatGuid, characterGuid)
        -- Only affect enemies
        if Osi.IsEnemy(characterGuid) == 1 then
            -- Transform enemy into a frog
            Osi.ApplyStatus(characterGuid, "POLYMORPH_FROG", -1, 1)
           Print("Frogified enemy: " .. characterGuid)
        end
    end)
end)
```

Here, we are using `Ext.Osiris.RegisterListener("EnteredCombat", ...)` to listen for the event ‚Äúa character has entered combat.‚Äù

`characterGuid` is the game‚Äôs internal ID for that specific character. Similar to UUID from before, **GUID** stands for Globally Unique Identifier. But unlike the UUID, this isn't a randomly generated string of numbers, but a predetermined identifier that the game automatically feeds into the function when the `EnteredCombat` event fires.

`if Osi.IsEnemy(characterGuid) == 1 then` checks: ‚ÄúIs this character an enemy?‚Äù (1 = yes, 0 = no).

`Osi.ApplyStatus(..., "POLYMORPH_FROG", -1, 1)` applies the ‚Äúfrog polymorph‚Äù effect. -1 means it lasts forever until combat ends. `POLYMORPH_FROG` is a built-in string ID that the game understands.
Finally, `print("Frogified enemy: " .. characterGuid)` writes a debug message in the console so you can confirm the frogification was successful.

<RoundedImage link="swap image before publishing" description="Combat begins, enemies turn into frogs" />

## Export your Mod to a .pak

Before your mod shows up in Baldur‚Äôs Gate 3, you‚Äôll usually need to package it into a **.pak** file. This isn‚Äôt done in BG3 itself, you‚Äôll use external tools made by the modding community.

A **.pak** file is a type of ‚Äúpackage‚Äù file, primarily used in video games, that bundles multiple game data files like graphics, textures, sounds, and other assets into a single file for easier management and distribution.

### BG3 Modders Multitool

Download [BG3 Modder‚Äôs Multitool](https://github.com/ShinyHobo/BG3-Modders-Multitool), which is a beginner-friendly open source tool that lets you unpack BG3‚Äôs files, browse models, and export your own mod into **.pak** format. 

Extract the contents of the .zip folder into the `ModdingTools` folder so you can run the tool separately from your mod files.
- Open BG3 Modder‚Äôs Multitool (installed outside the game).
- Select your project folder (`Mods`).
- Click Build Mod, which generates a .pak file.

The **.pak** should be saved here:

```
C:\Users\<YourName>\AppData\Local\Larian Studios\Baldur's Gate 3\Mods\FrogifyEnemies\
```

## Load and Test Your Mod

Open BG3 Mod Manager, and drag your **.pak** mod from Inactive Mods ‚Üí Active Mods.

Click [Save Load Order] and [Export].

Time to launch Baldur‚Äôs Gate 3 via Steam!! Start a new game or load an existing save. Then, enter combat! As soon as the battle begins, enemies should polymorph into frogs before your very eyes.

To debug, open the Script Extender console (<kbd>~</kbd> key) to check for errors.
Now you can go right into launching Baldur's Gate 3! Start a new game or load a save. 
Find an enemy whose model you swapped. It should now appear as a frog!


## Bonus Challenge: Random Animal Mode 
Let's  randomize between frogs, chickens, or sheep. üê∏üêîüêë

Open **Frogify.lua**, which contains the combat logic for polymorphing enemies, and adds randomization.

```lua
local animals = {"POLYMORPH_FROG", "POLYMORPH_CHICKEN", "POLYMORPH_SHEEP"}
local choice = animals[math.random(#animals)]

Osi.ApplyStatus(characterGuid, choice, -1, 1)
print("Transformed enemy into: " .. choice)
```

`local animals = {...}` creates a list of different polymorph status IDs. `POLYMORPH_FROG`, `POLYMORPH_CHICKEN`, `POLYMORPH_SHEEP` are all predefined effects in the game. 

`local choice = animals[math.random(#animals)]` provides the number of items in the `animals` list (3 in this case). Then, it picks a random number between 1 and 3 (since Lua uses 1-based index) and selects the animal polymorph at that position in the `animals`list.

`Osi.ApplyStatus(characterGuid, choice, -1, 1)` applies the randomly selected polymorph effect to the enemy, to be applied indefinitely (`-1`) and immediately (`1`).

Finally, it prints a debug message showing which animal the enemy transformed into.

There are even more animals you can polymorph your enemies into! Search the word "POLYMORPH" in [Norbyte's BG3 Search Engine](https://bg3.norbyte.dev/search) to explore more options.

# Conclusion

Congrats! You just made your first Baldur‚Äôs Gate 3 mod! üéâ

<RoundedImage link="https://i.imgur.com/PafW349.png" description="Baldur's Gate 3 party victoriously looking out at a cliff" />

We started by frogifying enemies, and extended it into a randomizer. For an even bigger challenge, you can explore more polymorphs ([cheese wheel](https://www.reddit.com/r/BG3/comments/1ceqelg/i_got_turned_into_a_cheese_wheel/), anyone?), or get wild with custom models.

Have fun breaking Faer√ªn!

# Additional Resources

Here are some more resources to explore:

- [accessibly named link to full source code on github](codedex/projects/etc)
- [BG3 Modding Wiki](https://bg3.wiki/wiki/Modding:Modding_resources)
- [Norbyte's BG3 Search Engine](https://bg3.norbyte.dev/search)
- [Manual Modding in BG3 for MacOS Users](https://www.youtube.com/watch?v=8BNi0uNOvrE)


Share your projects with the team [@codedex_io](https://www.twitter.com/codedex_io)! Let us know what you come up with!  
<span style={{ fontSize: "16px", lineHeight: 1 }}>
  <img
    src="https://i.imgur.com/xbx0UAG.png"
    alt="emoji"
    style={{ height: "1em", width: "auto", verticalAlign: "middle" }}
  />
</span>
